/// <reference path="../typings/tsd.d.ts" />
"use strict";
var _ = require("lodash");
var chroma = require("chroma-js");
var eval_scope_1 = require("./eval-scope");
(function (ValueType) {
    ValueType[ValueType["Number"] = 1] = "Number";
    ValueType[ValueType["Color"] = 2] = "Color";
    ValueType[ValueType["ColorScale"] = 4] = "ColorScale";
    ValueType[ValueType["Array"] = 8] = "Array";
    ValueType[ValueType["NumberArray"] = 24] = "NumberArray";
    ValueType[ValueType["ColorArray"] = 40] = "ColorArray";
})(exports.ValueType || (exports.ValueType = {}));
var ValueType = exports.ValueType;
(function (BlendMode) {
    BlendMode[BlendMode["None"] = 0] = "None";
    BlendMode[BlendMode["Replace"] = 1] = "Replace";
    BlendMode[BlendMode["Add"] = 2] = "Add";
    BlendMode[BlendMode["ColorBurn"] = 3] = "ColorBurn";
    BlendMode[BlendMode["ColorDodge"] = 4] = "ColorDodge";
    BlendMode[BlendMode["Darken"] = 5] = "Darken";
    BlendMode[BlendMode["Difference"] = 6] = "Difference";
    BlendMode[BlendMode["Divide"] = 7] = "Divide";
    BlendMode[BlendMode["Exclusion"] = 8] = "Exclusion";
    BlendMode[BlendMode["HardLight"] = 9] = "HardLight";
    BlendMode[BlendMode["Lighten"] = 10] = "Lighten";
    BlendMode[BlendMode["LinearBurn"] = 11] = "LinearBurn";
    BlendMode[BlendMode["LinearDodge"] = 12] = "LinearDodge";
    BlendMode[BlendMode["Multiply"] = 13] = "Multiply";
    BlendMode[BlendMode["Negate"] = 14] = "Negate";
    BlendMode[BlendMode["Overlay"] = 15] = "Overlay";
    BlendMode[BlendMode["Screen"] = 16] = "Screen";
    BlendMode[BlendMode["SoftLight"] = 17] = "SoftLight";
    BlendMode[BlendMode["Subtract"] = 18] = "Subtract";
})(exports.BlendMode || (exports.BlendMode = {}));
var BlendMode = exports.BlendMode;
var getColorBlender = (function () {
    var bs = {};
    bs[BlendMode.None] = function (a, b) { return a; };
    bs[BlendMode.Replace] = function (a, b) { return b; };
    bs[BlendMode.Add] = function (a, b) { return Math.min(a + b, 255); };
    bs[BlendMode.ColorBurn] = function (a, b) { return b <= 0 ? 0 : Math.max(255 - (255 - a) * 255 / b, 0); };
    bs[BlendMode.ColorDodge] = function (a, b) { return b >= 255 ? 255 : Math.min(a * 255 / (255 - b), 255); };
    bs[BlendMode.Darken] = function (a, b) { return Math.min(a, b); };
    bs[BlendMode.Difference] = function (a, b) { return Math.abs(a - b); };
    bs[BlendMode.Divide] = function (a, b) { return Math.min((a / 255) / (b / 255) * 255, 255); };
    bs[BlendMode.Exclusion] = function (a, b) { return 255 - (((255 - a) * (255 - b) / 255) + (a * b / 255)); };
    bs[BlendMode.HardLight] = function (a, b) { return b < 128 ? (2 * a * b) / 255 : 255 - ((2 * (255 - a) * (255 - b)) / 255); };
    bs[BlendMode.Lighten] = function (a, b) { return Math.max(a, b); };
    bs[BlendMode.LinearBurn] = function (a, b) { return Math.max(0, a + b - 255); };
    bs[BlendMode.LinearDodge] = function (a, b) { return Math.min(a + b, 255); };
    bs[BlendMode.Multiply] = function (a, b) { return a * b / 255; };
    bs[BlendMode.Negate] = function (a, b) { return 255 - Math.abs(255 - a - b); };
    bs[BlendMode.Overlay] = function (a, b) { return a < 128 ? (2 * a * b / 255) : (255 - (2 * (255 - a) * (255 - b) / 255)); };
    bs[BlendMode.Screen] = function (a, b) { return 255 - ((255 - a) * (255 - b)) / 255; };
    bs[BlendMode.SoftLight] = function (a, b) { return a < 128 ? (((b >> 1) + 64) * a * (2 / 255)) : (255 - (191 - (b >> 1)) * (255 - a) * (2 / 255)); };
    bs[BlendMode.Subtract] = function (a, b) { return Math.max(a - b, 0); };
    return function (mode) { return bs[mode]; };
})();
function blendColors(bg, fg, mode) {
    var blender = getColorBlender(mode);
    var bgComps = bg.rgba();
    var fgComps = fg.rgba();
    var resComps = [void 0, void 0, void 0, fgComps[3] + bgComps[3] * (1 - fgComps[3])];
    for (var i = 0; i < 3; i++) {
        var c1 = bgComps[i] / 255;
        var c2 = fgComps[i] / 255;
        var c = blender(bgComps[i], fgComps[i]) / 255;
        if (resComps[3])
            c = (fgComps[3] * c2 + bgComps[3] * (c1 - fgComps[3] * (c1 + c2 - c))) / resComps[3];
        resComps[i] = c * 255;
    }
    var color = chroma(resComps);
    return color;
}
exports.blendColors = blendColors;
function cmyToCmykArray(valuesOrC, m, y) {
    var k = 1;
    var c;
    if (!_.isArray(valuesOrC))
        c = valuesOrC;
    else
        c = valuesOrC[0], m = valuesOrC[1], y = valuesOrC[2];
    if (c < k)
        k = c;
    if (m < k)
        k = m;
    if (y < k)
        k = y;
    if (k === 1) {
        c = 0;
        m = 0;
        y = 0;
    }
    else {
        c = (c - k) / (1 - k);
        m = (m - k) / (1 - k);
        y = (y - k) / (1 - k);
    }
    return [c, m, y, k];
}
exports.cmyToCmykArray = cmyToCmykArray;
function cmyToCmyk(c, m, y) {
    var values = cmyToCmykArray(c, m, y);
    var color = chroma(values, "cmyk");
    return color;
}
exports.cmyToCmyk = cmyToCmyk;
function inverseColor(color) {
    var color2 = cloneValue(color);
    color2.set("rgb.r", 255 - color.get("rgb.r"));
    color2.set("rgb.g", 255 - color.get("rgb.g"));
    color2.set("rgb.b", 255 - color.get("rgb.b"));
    return color2;
}
exports.inverseColor = inverseColor;
function colorArithmeticOp(value1, value2, op) {
    var color;
    var n;
    if (isColor(value1))
        _a = [value1, value2], color = _a[0], n = _a[1];
    else
        _b = [value1, value2], n = _b[0], color = _b[1];
    color = cloneValue(color);
    color.set("rgb.r", op + n);
    color.set("rgb.g", op + n);
    color.set("rgb.b", op + n);
    return color;
    var _a, _b;
}
exports.colorArithmeticOp = colorArithmeticOp;
function roundColorComps(color, space) {
    if (space === void 0) { space = "rgb"; }
    var ranges = getColorSpaceParamsValidRanges(space);
    var comps = color.get(space);
    for (var i = 0; i < ranges.length; i++)
        if (ranges[i][1] - ranges[i][0] > 2)
            comps[i] = Math.round(comps[i]);
    var res = chroma(comps, space);
    res.alpha(color.alpha());
    return res;
}
exports.roundColorComps = roundColorComps;
function getColorSpaceParamsValidRanges(space) {
    switch (space) {
        case "rgb": return [[0, 255], [0, 255], [0, 255]];
        case "cmy": return [[0, 1], [0, 1], [0, 1]];
        case "cmyk": return [[0, 1], [0, 1], [0, 1], [0, 1]];
        case "hsl": return [[0, 360], [0, 1], [0, 1]];
        case "hsv": return [[0, 360], [0, 1], [0, 1]];
        case "hsi": return [[0, 360], [0, 1], [0, 1]];
        case "lab": return [[0, 100], [-128, 127], [-128, 127]];
        case "lch": return [[0, 100], [0, 140], [0, 360]];
        case "hcl": return [[0, 360], [0, 140], [0, 100]];
        default:
            throw new SyntaxError("unknown namespace: " + space.toUpperCase() + ".");
    }
}
exports.getColorSpaceParamsValidRanges = getColorSpaceParamsValidRanges;
function isColor(value) {
    return value
        && _.isArray(value._rgb)
        && value._rgb.length === 4;
}
exports.isColor = isColor;
function formatColor(color, appendName) {
    if (appendName === void 0) { appendName = false; }
    color = roundColorComps(color);
    var hex = color.hex();
    var hex8 = color.hex("rgba");
    var alpha = color.alpha();
    var name = color.name();
    var s = alpha === 1 || isNaN(alpha) ? hex : hex8;
    if (appendName && name !== hex)
        s += " (" + name + ")";
    return s;
}
exports.formatColor = formatColor;
function colorFromWavelength(wl) {
    var r = 0;
    var g = 0;
    var b = 0;
    var a = 1;
    if (wl >= 380 && wl < 440) {
        r = -1 * (wl - 440) / (440 - 380);
        g = 0;
        b = 1;
    }
    else if (wl >= 440 && wl < 490) {
        r = 0;
        g = (wl - 440) / (490 - 440);
        b = 1;
    }
    else if (wl >= 490 && wl < 510) {
        r = 0;
        g = 1;
        b = -1 * (wl - 510) / (510 - 490);
    }
    else if (wl >= 510 && wl < 580) {
        r = (wl - 510) / (580 - 510);
        g = 1;
        b = 0;
    }
    else if (wl >= 580 && wl < 645) {
        r = 1;
        g = -1 * (wl - 645) / (645 - 580);
        b = 0.0;
    }
    else if (wl >= 645 && wl <= 780) {
        r = 1;
        g = 0;
        b = 0;
    }
    if (wl > 780 || wl < 380)
        a = 0;
    else if (wl > 700)
        a = (780 - wl) / (780 - 700);
    else if (wl < 420)
        a = (wl - 380) / (420 - 380);
    var color = chroma([r, g, b, a], "gl");
    return color;
}
exports.colorFromWavelength = colorFromWavelength;
function throwError(error, loc) {
    var locStr = loc ? " (" + loc + ")" : "";
    throw "Error" + locStr + ": " + error + ".";
}
exports.throwError = throwError;
function getType(value) {
    if (typeof value === "number")
        return ValueType.Number;
    else if (isColor(value))
        return ValueType.Color;
    else if (_.isArray(value)) {
        if (value.length) {
            if (_.every(value, function (v) { return getType(v) === ValueType.Number; }))
                return ValueType.NumberArray;
            else if (_.every(value, function (v) { return getType(v) === ValueType.Color; }))
                return ValueType.ColorArray;
        }
        return ValueType.Array;
    }
    else if (value instanceof eval_scope_1.ColorScale)
        return ValueType.ColorScale;
}
exports.getType = getType;
function forceType(value, type, loc) {
    var valueType = getType(value);
    var types = (_.isArray(type) ? type : [type]);
    if (!_.any(types, function (t) { return (t & valueType) === t; })) {
        var strs = _.map(types, function (t) {
            switch (t) {
                case ValueType.Number: return "number";
                case ValueType.Color: return "color";
                case ValueType.ColorScale: return "color scale";
                case ValueType.Array: return "array";
                case ValueType.NumberArray: return "number array";
                case ValueType.ColorArray: return "color array";
                default: throw "invalid value type";
            }
        });
        var msg = strs[0];
        if (strs.length > 1)
            msg = strs.slice(0, -1).join(", ") + " or " + strs.slice(-1);
        throwError("value is not " + msg, loc);
    }
    return value;
}
exports.forceType = forceType;
function forceRange(value, loc) {
    if (getType(value) !== ValueType.NumberArray || value.length !== 2)
        throwError("operand is not valid numeric range", loc);
}
exports.forceRange = forceRange;
function cloneValue(value) {
    var type = getType(value);
    switch (type) {
        case ValueType.Color: return chroma(value.rgba());
        case ValueType.ColorScale: return value.clone();
        case ValueType.Array:
        case ValueType.NumberArray:
        case ValueType.ColorArray: return _.map(value, function (v) { return cloneValue(v); });
        default: return value;
    }
}
exports.cloneValue = cloneValue;
function forceNumInRange(value, minOrRange, maxOrLoc, loc) {
    var min = _.isArray(minOrRange) ? minOrRange[0] : minOrRange;
    var max = _.isArray(minOrRange) ? minOrRange[1] : maxOrLoc;
    loc = _.isArray(minOrRange) ? maxOrLoc : loc;
    var n = forceType(value, ValueType.Number, loc);
    if (n < min || n > max)
        throwError("number in a range [" + min + ".." + max + "] is expected, you provided: " + n, loc);
    return n;
}
exports.forceNumInRange = forceNumInRange;
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoidXRpbHMuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyJ1dGlscy50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQyw0Q0FBNEM7O0FBRTdDLElBQUksQ0FBQyxHQUFHLE9BQU8sQ0FBQyxRQUFRLENBQW1CLENBQUM7QUFDNUMsSUFBWSxNQUFNLFdBQU0sV0FBVyxDQUFDLENBQUE7QUFDcEMsMkJBQTJCLGNBQWMsQ0FBQyxDQUFBO0FBRTFDLFdBQVksU0FBUztJQUNqQiw2Q0FBcUIsQ0FBQTtJQUNyQiwyQ0FBcUIsQ0FBQTtJQUNyQixxREFBcUIsQ0FBQTtJQUNyQiwyQ0FBcUIsQ0FBQTtJQUNyQix3REFBOEIsQ0FBQTtJQUM5QixzREFBOEIsQ0FBQTtBQUNsQyxDQUFDLEVBUFcsaUJBQVMsS0FBVCxpQkFBUyxRQU9wQjtBQVBELElBQVksU0FBUyxHQUFULGlCQU9YLENBQUE7QUFFRCxXQUFZLFNBQVM7SUFDakIseUNBQUksQ0FBQTtJQUNKLCtDQUFPLENBQUE7SUFFUCx1Q0FBRyxDQUFBO0lBQ0gsbURBQVMsQ0FBQTtJQUNULHFEQUFVLENBQUE7SUFDViw2Q0FBTSxDQUFBO0lBQ04scURBQVUsQ0FBQTtJQUNWLDZDQUFNLENBQUE7SUFDTixtREFBUyxDQUFBO0lBQ1QsbURBQVMsQ0FBQTtJQUNULGdEQUFPLENBQUE7SUFDUCxzREFBVSxDQUFBO0lBQ1Ysd0RBQVcsQ0FBQTtJQUNYLGtEQUFRLENBQUE7SUFDUiw4Q0FBTSxDQUFBO0lBQ04sZ0RBQU8sQ0FBQTtJQUNQLDhDQUFNLENBQUE7SUFDTixvREFBUyxDQUFBO0lBQ1Qsa0RBQVEsQ0FBQTtBQUNaLENBQUMsRUFyQlcsaUJBQVMsS0FBVCxpQkFBUyxRQXFCcEI7QUFyQkQsSUFBWSxTQUFTLEdBQVQsaUJBcUJYLENBQUE7QUFFRCxJQUFJLGVBQWUsR0FBRyxDQUFDO0lBQ25CLElBQUksRUFBRSxHQUF5RCxFQUFFLENBQUM7SUFFbEUsRUFBRSxDQUFDLFNBQVMsQ0FBQyxJQUFJLENBQUMsR0FBVSxVQUFDLENBQUMsRUFBRSxDQUFDLElBQUssT0FBQSxDQUFDLEVBQUQsQ0FBQyxDQUFDO0lBQ3hDLEVBQUUsQ0FBQyxTQUFTLENBQUMsT0FBTyxDQUFDLEdBQU8sVUFBQyxDQUFDLEVBQUUsQ0FBQyxJQUFLLE9BQUEsQ0FBQyxFQUFELENBQUMsQ0FBQztJQUV4QyxFQUFFLENBQUMsU0FBUyxDQUFDLEdBQUcsQ0FBQyxHQUFXLFVBQUMsQ0FBQyxFQUFFLENBQUMsSUFBSyxPQUFBLElBQUksQ0FBQyxHQUFHLENBQUMsQ0FBQyxHQUFHLENBQUMsRUFBRSxHQUFHLENBQUMsRUFBcEIsQ0FBb0IsQ0FBQztJQUMzRCxFQUFFLENBQUMsU0FBUyxDQUFDLFNBQVMsQ0FBQyxHQUFLLFVBQUMsQ0FBQyxFQUFFLENBQUMsSUFBSyxPQUFBLENBQUMsSUFBSSxDQUFDLEdBQUcsQ0FBQyxHQUFHLElBQUksQ0FBQyxHQUFHLENBQUMsR0FBRyxHQUFHLENBQUMsR0FBRyxHQUFHLENBQUMsQ0FBQyxHQUFHLEdBQUcsR0FBRyxDQUFDLEVBQUUsQ0FBQyxDQUFDLEVBQW5ELENBQW1ELENBQUM7SUFDMUYsRUFBRSxDQUFDLFNBQVMsQ0FBQyxVQUFVLENBQUMsR0FBSSxVQUFDLENBQUMsRUFBRSxDQUFDLElBQUssT0FBQSxDQUFDLElBQUksR0FBRyxHQUFHLEdBQUcsR0FBRyxJQUFJLENBQUMsR0FBRyxDQUFDLENBQUMsR0FBRyxHQUFHLEdBQUcsQ0FBQyxHQUFHLEdBQUcsQ0FBQyxDQUFDLEVBQUUsR0FBRyxDQUFDLEVBQW5ELENBQW1ELENBQUM7SUFDMUYsRUFBRSxDQUFDLFNBQVMsQ0FBQyxNQUFNLENBQUMsR0FBUSxVQUFDLENBQUMsRUFBRSxDQUFDLElBQUssT0FBQSxJQUFJLENBQUMsR0FBRyxDQUFDLENBQUMsRUFBRSxDQUFDLENBQUMsRUFBZCxDQUFjLENBQUM7SUFDckQsRUFBRSxDQUFDLFNBQVMsQ0FBQyxVQUFVLENBQUMsR0FBSSxVQUFDLENBQUMsRUFBRSxDQUFDLElBQUssT0FBQSxJQUFJLENBQUMsR0FBRyxDQUFDLENBQUMsR0FBRyxDQUFDLENBQUMsRUFBZixDQUFlLENBQUM7SUFDdEQsRUFBRSxDQUFDLFNBQVMsQ0FBQyxNQUFNLENBQUMsR0FBUSxVQUFDLENBQUMsRUFBRSxDQUFDLElBQUssT0FBQSxJQUFJLENBQUMsR0FBRyxDQUFDLENBQUMsQ0FBQyxHQUFHLEdBQUcsQ0FBQyxHQUFHLENBQUMsQ0FBQyxHQUFHLEdBQUcsQ0FBQyxHQUFHLEdBQUcsRUFBRSxHQUFHLENBQUMsRUFBMUMsQ0FBMEMsQ0FBQztJQUNqRixFQUFFLENBQUMsU0FBUyxDQUFDLFNBQVMsQ0FBQyxHQUFLLFVBQUMsQ0FBQyxFQUFFLENBQUMsSUFBSyxPQUFBLEdBQUcsR0FBRyxDQUFDLENBQUMsQ0FBQyxHQUFHLEdBQUcsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxHQUFHLEdBQUcsQ0FBQyxDQUFDLEdBQUcsR0FBRyxDQUFDLEdBQUcsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxHQUFHLEdBQUcsQ0FBQyxDQUFDLEVBQXJELENBQXFELENBQUM7SUFDNUYsRUFBRSxDQUFDLFNBQVMsQ0FBQyxTQUFTLENBQUMsR0FBSyxVQUFDLENBQUMsRUFBRSxDQUFDLElBQUssT0FBQSxDQUFDLEdBQUcsR0FBRyxHQUFHLENBQUMsQ0FBQyxHQUFHLENBQUMsR0FBRyxDQUFDLENBQUMsR0FBRyxHQUFHLEdBQUcsR0FBRyxHQUFHLENBQUMsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxHQUFHLEdBQUcsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxHQUFHLEdBQUcsQ0FBQyxDQUFDLENBQUMsR0FBRyxHQUFHLENBQUMsRUFBdkUsQ0FBdUUsQ0FBQztJQUM5RyxFQUFFLENBQUMsU0FBUyxDQUFDLE9BQU8sQ0FBQyxHQUFPLFVBQUMsQ0FBQyxFQUFFLENBQUMsSUFBSyxPQUFBLElBQUksQ0FBQyxHQUFHLENBQUMsQ0FBQyxFQUFFLENBQUMsQ0FBQyxFQUFkLENBQWMsQ0FBQztJQUNyRCxFQUFFLENBQUMsU0FBUyxDQUFDLFVBQVUsQ0FBQyxHQUFJLFVBQUMsQ0FBQyxFQUFFLENBQUMsSUFBSyxPQUFBLElBQUksQ0FBQyxHQUFHLENBQUMsQ0FBQyxFQUFFLENBQUMsR0FBRyxDQUFDLEdBQUcsR0FBRyxDQUFDLEVBQXhCLENBQXdCLENBQUM7SUFDL0QsRUFBRSxDQUFDLFNBQVMsQ0FBQyxXQUFXLENBQUMsR0FBRyxVQUFDLENBQUMsRUFBRSxDQUFDLElBQUssT0FBQSxJQUFJLENBQUMsR0FBRyxDQUFDLENBQUMsR0FBRyxDQUFDLEVBQUUsR0FBRyxDQUFDLEVBQXBCLENBQW9CLENBQUM7SUFDM0QsRUFBRSxDQUFDLFNBQVMsQ0FBQyxRQUFRLENBQUMsR0FBTSxVQUFDLENBQUMsRUFBRSxDQUFDLElBQUssT0FBQSxDQUFDLEdBQUcsQ0FBQyxHQUFHLEdBQUcsRUFBWCxDQUFXLENBQUM7SUFDbEQsRUFBRSxDQUFDLFNBQVMsQ0FBQyxNQUFNLENBQUMsR0FBUSxVQUFDLENBQUMsRUFBRSxDQUFDLElBQUssT0FBQSxHQUFHLEdBQUcsSUFBSSxDQUFDLEdBQUcsQ0FBQyxHQUFHLEdBQUcsQ0FBQyxHQUFHLENBQUMsQ0FBQyxFQUEzQixDQUEyQixDQUFDO0lBQ2xFLEVBQUUsQ0FBQyxTQUFTLENBQUMsT0FBTyxDQUFDLEdBQU8sVUFBQyxDQUFDLEVBQUUsQ0FBQyxJQUFLLE9BQUEsQ0FBQyxHQUFHLEdBQUcsR0FBRyxDQUFDLENBQUMsR0FBRyxDQUFDLEdBQUcsQ0FBQyxHQUFHLEdBQUcsQ0FBQyxHQUFHLENBQUMsR0FBRyxHQUFHLENBQUMsQ0FBQyxHQUFHLENBQUMsR0FBRyxHQUFHLENBQUMsQ0FBQyxHQUFHLENBQUMsR0FBRyxHQUFHLENBQUMsQ0FBQyxHQUFHLEdBQUcsQ0FBQyxDQUFDLEVBQXZFLENBQXVFLENBQUM7SUFDOUcsRUFBRSxDQUFDLFNBQVMsQ0FBQyxNQUFNLENBQUMsR0FBUSxVQUFDLENBQUMsRUFBRSxDQUFDLElBQUssT0FBQSxHQUFHLEdBQUcsQ0FBQyxDQUFDLEdBQUcsR0FBRyxDQUFDLENBQUMsR0FBRyxDQUFDLEdBQUcsR0FBRyxDQUFDLENBQUMsQ0FBQyxHQUFHLEdB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LENBQUMsRUFBRSxDQUFJLENBQUMsRUFBRSxHQUFHLENBQUMsQ0FBUyxDQUFDO1FBQ2pFLEtBQUssS0FBSyxFQUFHLE1BQU0sQ0FBQyxDQUFDLENBQUMsQ0FBQyxFQUFJLENBQUMsQ0FBQyxFQUFFLENBQUksQ0FBQyxFQUFJLENBQUMsQ0FBQyxFQUFFLENBQUksQ0FBQyxFQUFJLENBQUMsQ0FBQyxDQUFTLENBQUM7UUFDakUsS0FBSyxNQUFNLEVBQUUsTUFBTSxDQUFDLENBQUMsQ0FBQyxDQUFDLEVBQUksQ0FBQyxDQUFDLEVBQUUsQ0FBSSxDQUFDLEVBQUksQ0FBQyxDQUFDLEVBQUUsQ0FBSSxDQUFDLEVBQUksQ0FBQyxDQUFDLEVBQUUsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxDQUFDLENBQUMsQ0FBQztRQUNqRSxLQUFLLEtBQUssRUFBRyxNQUFNLENBQUMsQ0FBQyxDQUFDLENBQUMsRUFBRSxHQUFHLENBQUMsRUFBRSxDQUFJLENBQUMsRUFBSSxDQUFDLENBQUMsRUFBRSxDQUFJLENBQUMsRUFBSSxDQUFDLENBQUMsQ0FBUyxDQUFDO1FBQ2pFLEtBQUssS0FBSyxFQUFHLE1BQU0sQ0FBQyxDQUFDLENBQUMsQ0FBQyxFQUFFLEdBQUcsQ0FBQyxFQUFFLENBQUksQ0FBQyxFQUFJLENBQUMsQ0FBQyxFQUFFLENBQUksQ0FBQyxFQUFJLENBQUMsQ0FBQyxDQUFTLENBQUM7UUFDakUsS0FBSyxLQUFLLEVBQUcsTUFBTSxDQUFDLENBQUMsQ0FBQyxDQUFDLEVBQUUsR0FBRyxDQUFDLEVBQUUsQ0FBSSxDQUFDLEVBQUksQ0FBQyxDQUFDLEVBQUUsQ0FBSSxDQUFDLEVBQUksQ0FBQyxDQUFDLENBQVMsQ0FBQztRQUNqRSxLQUFLLEtBQUssRUFBRyxNQUFNLENBQUMsQ0FBQyxDQUFDLENBQUMsRUFBRSxHQUFHLENBQUMsRUFBRSxDQUFDLENBQUMsR0FBRyxFQUFFLEdBQUcsQ0FBQyxFQUFFLENBQUMsQ0FBQyxHQUFHLEVBQUUsR0FBRyxDQUFDLENBQVMsQ0FBQztRQUNqRSxLQUFLLEtBQUssRUFBRyxNQUFNLENBQUMsQ0FBQyxDQUFDLENBQUMsRUFBRSxHQUFHLENBQUMsRUFBRSxDQUFJLENBQUMsRUFBRSxHQUFHLENBQUMsRUFBRSxDQUFJLENBQUMsRUFBRSxHQUFHLENBQUMsQ0FBUyxDQUFDO1FBQ2pFLEtBQUssS0FBSyxFQUFHLE1BQU0sQ0FBQyxDQUFDLENBQUMsQ0FBQyxFQUFFLEdBQUcsQ0FBQyxFQUFFLENBQUksQ0FBQyxFQUFFLEdBQUcsQ0FBQyxFQUFFLENBQUksQ0FBQyxFQUFFLEdBQUcsQ0FBQyxDQUFTLENBQUM7UUFFakU7WUFDSSxNQUFNLElBQUksV0FBVyxDQUFDLHdCQUFzQixLQUFLLENBQUMsV0FBVyxFQUFFLE1BQUcsQ0FBQyxDQUFDO0lBQzVFLENBQUM7QUFDTCxDQUFDO0FBZmUsc0NBQThCLGlDQWU3QyxDQUFBO0FBRUQsaUJBQXdCLEtBQUs7SUFDekIsTUFBTSxDQUFDLEtBQUs7V0FDTCxDQUFDLENBQUMsT0FBTyxDQUFDLEtBQUssQ0FBQyxJQUFJLENBQUM7V0FDckIsS0FBSyxDQUFDLElBQUksQ0FBQyxNQUFNLEtBQUssQ0FBQyxDQUFDO0FBQ25DLENBQUM7QUFKZSxlQUFPLFVBSXRCLENBQUE7QUFFRCxxQkFBNEIsS0FBbUIsRUFBRSxVQUFrQjtJQUFsQiwwQkFBa0IsR0FBbEIsa0JBQWtCO0lBQy9ELEtBQUssR0FBRyxlQUFlLENBQUMsS0FBSyxDQUFDLENBQUM7SUFFL0IsSUFBSSxHQUFHLEdBQUcsS0FBSyxDQUFDLEdBQUcsRUFBRSxDQUFDO0lBQ3RCLElBQUksSUFBSSxHQUFHLEtBQUssQ0FBQyxHQUFHLENBQUMsTUFBTSxDQUFDLENBQUM7SUFDN0IsSUFBSSxLQUFLLEdBQUcsS0FBSyxDQUFDLEtBQUssRUFBRSxDQUFDO0lBQzFCLElBQUksSUFBSSxHQUFHLEtBQUssQ0FBQyxJQUFJLEVBQUUsQ0FBQztJQUN4QixJQUFJLENBQUMsR0FBRyxLQUFLLEtBQUssQ0FBQyxJQUFJLEtBQUssQ0FBQyxLQUFLLENBQUMsR0FBRyxHQUFHLEdBQUcsSUFBSSxDQUFDO0lBRWpELEVBQUUsQ0FBQyxDQUFDLFVBQVUsSUFBSSxJQUFJLEtBQUssR0FBRyxDQUFDO1FBQzNCLENBQUMsSUFBSSxPQUFLLElBQUksTUFBRyxDQUFDO0lBRXRCLE1BQU0sQ0FBQyxDQUFDLENBQUM7QUFDYixDQUFDO0FBYmUsbUJBQVcsY0FhMUIsQ0FBQTtBQUVELDZCQUFvQyxFQUFVO0lBQzFDLElBQUksQ0FBQyxHQUFHLENBQUMsQ0FBQztJQUNWLElBQUksQ0FBQyxHQUFHLENBQUMsQ0FBQztJQUNWLElBQUksQ0FBQyxHQUFHLENBQUMsQ0FBQztJQUNWLElBQUksQ0FBQyxHQUFHLENBQUMsQ0FBQztJQUVWLEVBQUUsQ0FBQyxDQUFDLEVBQUUsSUFBSSxHQUFHLElBQUksRUFBRSxHQUFHLEdBQUcsQ0FBQyxDQUFDLENBQUM7UUFDeEIsQ0FBQyxHQUFHLENBQUMsQ0FBQyxHQUFHLENBQUMsRUFBRSxHQUFHLEdBQUcsQ0FBQyxHQUFHLENBQUMsR0FBRyxHQUFHLEdBQUcsQ0FBQyxDQUFDO1FBQ2xDLENBQUMsR0FBRyxDQUFDLENBQUM7UUFDTixDQUFDLEdBQUcsQ0FBQyxDQUFDO0lBQ1YsQ0FBQztJQUNELElBQUksQ0FBQyxFQUFFLENBQUMsQ0FBQyxFQUFFLElBQUksR0FBRyxJQUFJLEVBQUUsR0FBRyxHQUFHLENBQUMsQ0FBQyxDQUFDO1FBQzdCLENBQUMsR0FBRyxDQUFDLENBQUM7UUFDTixDQUFDLEdBQUcsQ0FBQyxFQUFFLEdBQUcsR0FBRyxDQUFDLEdBQUcsQ0FBQyxHQUFHLEdBQUcsR0FBRyxDQUFDLENBQUM7UUFDN0IsQ0FBQyxHQUFHLENBQUMsQ0FBQztJQUNWLENBQUM7SUFDRCxJQUFJLENBQUMsRUFBRSxDQUFDLENBQUMsRUFBRSxJQUFJLEdBQUcsSUFBSSxFQUFFLEdBQUcsR0FBRyxDQUFDLENBQUMsQ0FBQztRQUM3QixDQUFDLEdBQUcsQ0FBQyxDQUFDO1FBQ04sQ0FBQyxHQUFHLENBQUMsQ0FBQztRQUNOLENBQUMsR0FBRyxDQUFDLENBQUMsR0FBRyxDQUFDLEVBQUUsR0FBRyxHQUFHLENBQUMsR0FBRyxDQUFDLEdBQUcsR0FBRyxHQUFHLENBQUMsQ0FBQztJQUN0QyxDQUFDO0lBQ0QsSUFBSSxDQUFDLEVBQUUsQ0FBQyxDQUFDLEVBQUUsSUFBSSxHQUFHLElBQUksRUFBRSxHQUFHLEdBQUcsQ0FBQyxDQUFDLENBQUM7UUFDN0IsQ0FBQyxHQUFHLENBQUMsRUFBRSxHQUFHLEdBQUcsQ0FBQyxHQUFHLENBQUMsR0FBRyxHQUFHLEdBQUcsQ0FBQyxDQUFDO1FBQzdCLENBQUMsR0FBRyxDQUFDLENBQUM7UUFDTixDQUFDLEdBQUcsQ0FBQyxDQUFDO0lBQ1YsQ0FBQztJQUNELElBQUksQ0FBQyxFQUFFLENBQUMsQ0FBQyxFQUFFLElBQUksR0FBRyxJQUFJLEVBQUUsR0FBRyxHQUFHLENBQUMsQ0FBQyxDQUFDO1FBQzdCLENBQUMsR0FBRyxDQUFDLENBQUM7UUFDTixDQUFDLEdBQUcsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxFQUFFLEdBQUcsR0FBRyxDQUFDLEdBQUcsQ0FBQyxHQUFHLEdBQUcsR0FBRyxDQUFDLENBQUM7UUFDbEMsQ0FBQyxHQUFHLEdBQUcsQ0FBQztJQUNaLENBQUM7SUFDRCxJQUFJLENBQUMsRUFBRSxDQUFDLENBQUMsRUFBRSxJQUFJLEdBQUcsSUFBSSxFQUFFLElBQUksR0FBRyxDQUFDLENBQUMsQ0FBQztRQUM5QixDQUFDLEdBQUcsQ0FBQyxDQUFDO1FBQ04sQ0FBQyxHQUFHLENBQUMsQ0FBQztRQUNOLENBQUMsR0FBRyxDQUFDLENBQUM7SUFDVixDQUFDO0lBRUQsRUFBRSxDQUFDLENBQUMsRUFBRSxHQUFHLEdBQUcsSUFBSSxFQUFFLEdBQUcsR0FBRyxDQUFDO1FBQ3JCLENBQUMsR0FBRyxDQUFDLENBQUM7SUFDVixJQUFJLENBQUMsRUFBRSxDQUFDLENBQUMsRUFBRSxHQUFHLEdBQUcsQ0FBQztRQUNkLENBQUMsR0FBRyxDQUFDLEdBQUcsR0FBRyxFQUFFLENBQUMsR0FBRyxDQUFDLEdBQUcsR0FBRyxHQUFHLENBQUMsQ0FBQztJQUNqQyxJQUFJLENBQUMsRUFBRSxDQUFDLENBQUMsRUFBRSxHQUFHLEdBQUcsQ0FBQztRQUNkLENBQUMsR0FBRyxDQUFDLEVBQUUsR0FBRyxHQUFHLENBQUMsR0FBRyxDQUFDLEdBQUcsR0FBRyxHQUFHLENBQUMsQ0FBQztJQUVqQyxJQUFJLEtBQUssR0FBRyxNQUFNLENBQUMsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLENBQUMsRUFBRSxJQUFJLENBQUMsQ0FBQztJQUV2QyxNQUFNLENBQUMsS0FBSyxDQUFDO0FBQ2pCLENBQUM7QUEvQ2UsMkJBQW1CLHNCQStDbEMsQ0FBQTtBQUVELG9CQUEyQixLQUFhLEVBQUUsR0FBSTtJQUMxQyxJQUFJLE1BQU0sR0FBRyxHQUFHLEdBQUcsT0FBSyxHQUFHLE1BQUcsR0FBRyxFQUFFLENBQUM7SUFFcEMsTUFBTSxVQUFRLE1BQU0sVUFBSyxLQUFLLE1BQUcsQ0FBQztBQUN0QyxDQUFDO0FBSmUsa0JBQVUsYUFJekIsQ0FBQTtBQUVELGlCQUF3QixLQUFLO0lBQ3pCLEVBQUUsQ0FBQyxDQUFDLE9BQU8sS0FBSyxLQUFLLFFBQVEsQ0FBQztRQUMxQixNQUFNLENBQUMsU0FBUyxDQUFDLE1BQU0sQ0FBQztJQUM1QixJQUFJLENBQUMsRUFBRSxDQUFDLENBQUMsT0FBTyxDQUFDLEtBQUssQ0FBQyxDQUFDO1FBQ3BCLE1BQU0sQ0FBQyxTQUFTLENBQUMsS0FBSyxDQUFDO0lBQzNCLElBQUksQ0FBQyxFQUFFLENBQUMsQ0FBQyxDQUFDLENBQUMsT0FBTyxDQUFDLEtBQUssQ0FBQyxDQUFDLENBQUMsQ0FBQztRQUN4QixFQUFFLENBQUMsQ0FBQyxLQUFLLENBQUMsTUFBTSxDQUFDLENBQUMsQ0FBQztZQUNmLEVBQUUsQ0FBQyxDQUFDLENBQUMsQ0FBQyxLQUFLLENBQUMsS0FBSyxFQUFFLFVBQUEsQ0FBQyxJQUFJLE9BQUEsT0FBTyxDQUFDLENBQUMsQ0FBQyxLQUFLLFNBQVMsQ0FBQyxNQUFNLEVBQS9CLENBQStCLENBQUMsQ0FBQztnQkFDckQsTUFBTSxDQUFDLFNBQVMsQ0FBQyxXQUFXLENBQUM7WUFDakMsSUFBSSxDQUFDLEVBQUUsQ0FBQyxDQUFDLENBQUMsQ0FBQyxLQUFLLENBQUMsS0FBSyxFQUFFLFVBQUEsQ0FBQyxJQUFJLE9BQUEsT0FBTyxDQUFDLENBQUMsQ0FBQyxLQUFLLFNBQVMsQ0FBQyxLQUFLLEVBQTlCLENBQThCLENBQUMsQ0FBQztnQkFDekQsTUFBTSxDQUFDLFNBQVMsQ0FBQyxVQUFVLENBQUM7UUFDcEMsQ0FBQztRQUVELE1BQU0sQ0FBQyxTQUFTLENBQUMsS0FBSyxDQUFDO0lBQzNCLENBQUM7SUFDRCxJQUFJLENBQUMsRUFBRSxDQUFDLENBQUMsS0FBSyxZQUFZLHVCQUFVLENBQUM7UUFDakMsTUFBTSxDQUFDLFNBQVMsQ0FBQyxVQUFVLENBQUM7QUFDcEMsQ0FBQztBQWpCZSxlQUFPLFVBaUJ0QixDQUFBO0FBRUQsbUJBQTBCLEtBQUssRUFBRSxJQUE2QixFQUFFLEdBQUk7SUFDaEUsSUFBSSxTQUFTLEdBQUcsT0FBTyxDQUFDLEtBQUssQ0FBQyxDQUFDO0lBQy9CLElBQUksS0FBSyxHQUFnQixDQUFDLENBQUMsQ0FBQyxPQUFPLENBQUMsSUFBSSxDQUFDLEdBQUcsSUFBSSxHQUFHLENBQUMsSUFBSSxDQUFDLENBQUMsQ0FBQztJQUUzRCxFQUFFLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxHQUFHLENBQUMsS0FBSyxFQUFFLFVBQUEsQ0FBQyxJQUFJLE9BQUEsQ0FBQyxDQUFDLEdBQUcsU0FBUyxDQUFDLEtBQUssQ0FBQyxFQUFyQixDQUFxQixDQUFDLENBQUMsQ0FBQyxDQUFDO1FBQzVDLElBQUksSUFBSSxHQUFHLENBQUMsQ0FBQyxHQUFHLENBQUMsS0FBSyxFQUFFLFVBQUEsQ0FBQztZQUNyQixNQUFNLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDO2dCQUNSLEtBQUssU0FBUyxDQUFDLE1BQU0sRUFBTyxNQUFNLENBQUMsUUFBUSxDQUFDO2dCQUM1QyxLQUFLLFNBQVMsQ0FBQyxLQUFLLEVBQVEsTUFBTSxDQUFDLE9BQU8sQ0FBQztnQkFDM0MsS0FBSyxTQUFTLENBQUMsVUFBVSxFQUFHLE1BQU0sQ0FBQyxhQUFhLENBQUM7Z0JBQ2pELEtBQUssU0FBUyxDQUFDLEtBQUssRUFBUSxNQUFNLENBQUMsT0FBTyxDQUFDO2dCQUMzQyxLQUFLLFNBQVMsQ0FBQyxXQUFXLEVBQUUsTUFBTSxDQUFDLGNBQWMsQ0FBQztnQkFDbEQsS0FBSyxTQUFTLENBQUMsVUFBVSxFQUFHLE1BQU0sQ0FBQyxhQUFhLENBQUM7Z0JBQ2pELFNBQTRCLE1BQU0sb0JBQW9CLENBQUM7WUFDM0QsQ0FBQztRQUNMLENBQUMsQ0FBQyxDQUFDO1FBRUgsSUFBSSxHQUFHLEdBQUcsSUFBSSxDQUFDLENBQUMsQ0FBQyxDQUFDO1FBQ2xCLEVBQUUsQ0FBQyxDQUFDLElBQUksQ0FBQyxNQUFNLEdBQUcsQ0FBQyxDQUFDO1lBQ2hCLEdBQUcsR0FBRyxJQUFJLENBQUMsS0FBSyxDQUFDLENBQUMsRUFBRSxDQUFDLENBQUMsQ0FBQyxDQUFDLElBQUksQ0FBQyxJQUFJLENBQUMsR0FBRyxNQUFNLEdBQUcsSUFBSSxDQUFDLEtBQUssQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDO1FBRWpFLFVBQVUsQ0FBQyxrQkFBZ0IsR0FBSyxFQUFFLEdBQUcsQ0FBQyxDQUFDO0lBQzNDLENBQUM7SUFFRCxNQUFNLENBQUMsS0FBSyxDQUFDO0FBQ2pCLENBQUM7QUF6QmUsaUJBQVMsWUF5QnhCLENBQUE7QUFFRCxvQkFBMkIsS0FBSyxFQUFFLEdBQUk7SUFDbEMsRUFBRSxDQUFDLENBQUMsT0FBTyxDQUFDLEtBQUssQ0FBQyxLQUFLLFNBQVMsQ0FBQyxXQUFXLElBQWUsS0FBTSxDQUFDLE1BQU0sS0FBSyxDQUFDLENBQUM7UUFDM0UsVUFBVSxDQUFDLG9DQUFvQyxFQUFFLEdBQUcsQ0FBQyxDQUFDO0FBQzlELENBQUM7QUFIZSxrQkFBVSxhQUd6QixDQUFBO0FBRUQsb0JBQTJCLEtBQUs7SUFDNUIsSUFBSSxJQUFJLEdBQUcsT0FBTyxDQUFDLEtBQUssQ0FBQyxDQUFDO0lBRTFCLE1BQU0sQ0FBQyxDQUFDLElBQUksQ0FBQyxDQUFDLENBQUM7UUFDWCxLQUFLLFNBQVMsQ0FBQyxLQUFLLEVBQVEsTUFBTSxDQUFDLE1BQU0sQ0FBZ0IsS0FBTSxDQUFDLElBQUksRUFBRSxDQUFDLENBQUM7UUFDeEUsS0FBSyxTQUFTLENBQUMsVUFBVSxFQUFHLE1BQU0sQ0FBYyxLQUFNLENBQUMsS0FBSyxFQUFFLENBQUM7UUFFL0QsS0FBSyxTQUFTLENBQUMsS0FBSyxDQUFDO1FBQ3JCLEtBQUssU0FBUyxDQUFDLFdBQVcsQ0FBQztRQUMzQixLQUFLLFNBQVMsQ0FBQyxVQUFVLEVBQUcsTUFBTSxDQUFDLENBQUMsQ0FBQyxHQUFHLENBQUMsS0FBSyxFQUFFLFVBQUEsQ0FBQyxJQUFJLE9BQUEsVUFBVSxDQUFDLENBQUMsQ0FBQyxFQUFiLENBQWEsQ0FBQyxDQUFDO1FBRXBFLFNBQTRCLE1BQU0sQ0FBQyxLQUFLLENBQUM7SUFDN0MsQ0FBQztBQUNMLENBQUM7QUFiZSxrQkFBVSxhQWF6QixDQUFBO0FBSUQseUJBQWdDLEtBQUssRUFBRSxVQUFVLEVBQUUsUUFBUyxFQUFFLEdBQUk7SUFDOUQsSUFBSSxHQUFHLEdBQUcsQ0FBQyxDQUFDLE9BQU8sQ0FBQyxVQUFVLENBQUMsR0FBRyxVQUFVLENBQUMsQ0FBQyxDQUFDLEdBQUcsVUFBVSxDQUFDO0lBQzdELElBQUksR0FBRyxHQUFHLENBQUMsQ0FBQyxPQUFPLENBQUMsVUFBVSxDQUFDLEdBQUcsVUFBVSxDQUFDLENBQUMsQ0FBQyxHQUFHLFFBQVEsQ0FBQztJQUMzRCxHQUFHLEdBQUcsQ0FBQyxDQUFDLE9BQU8sQ0FBQyxVQUFVLENBQUMsR0FBRyxRQUFRLEdBQUcsR0FBRyxDQUFDO0lBQzdDLElBQUksQ0FBQyxHQUFHLFNBQVMsQ0FBQyxLQUFLLEVBQUUsU0FBUyxDQUFDLE1BQU0sRUFBRSxHQUFHLENBQUMsQ0FBQztJQUVoRCxFQUFFLENBQUMsQ0FBQyxDQUFDLEdBQUcsR0FBRyxJQUFJLENBQUMsR0FBRyxHQUFHLENBQUM7UUFDbkIsVUFBVSxDQUFDLHdCQUFzQixHQUFHLFVBQUssR0FBRyxxQ0FBZ0MsQ0FBRyxFQUFFLEdBQUcsQ0FBQyxDQUFDO0lBRTFGLE1BQU0sQ0FBQyxDQUFDLENBQUM7QUFDYixDQUFDO0FBVmUsdUJBQWUsa0JBVTlCLENBQUEifQ==